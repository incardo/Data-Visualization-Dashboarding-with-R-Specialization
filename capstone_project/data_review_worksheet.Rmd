---
title: "Data Review"
author: "Rocco Incardona"
date: "25/04/2022"
output: html_document
---

```{r setup, include=FALSE}

#####Make sure you load any required packages.


#https://cran.r-project.org/web/packages/wbstats/vignettes/wbstats.html
#install.packages("wbstats")
#install.packages("tictoc")

knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(wbstats)
library(tictoc)
```

## Import Your Data

In the following code hunk, import your data.

```{r data_import}

#### Use read_csv() or another function
#### Make sure your data is converted into a tibble. 

environment <- c("EN.POP.DNST", "EN.ATM.CO2E.KT", "EN.ATM.GHGT.KT.CE", "EG.ELC.FOSL.ZS", "EG.USE.COMM.CL.ZS")
economy <- c("NY.GDP.MKTP.PP.CD", "NY.GDP.PCAP.PP.CD", "NE.RSB.GNFS.ZS")
society <- c("SP.POP.TOTL", "SP.POP.GROW", "HD.HCI.OVRL")
all_indicators <- c(environment,economy,society)

tic()
df <- wb_data(country = "countries_only", indicator = all_indicators, start_date = 1980, end_date = 2022)
toc()
dim(df)

# Check available data
#df %>% group_by(date) %>% summarise_all(funs(sum(!is.na(.)))) %>% print(n = Inf)

df %>% group_by(date) %>% summarise_all(funs(sum(!is.na(.)))) %>%
  gather(key="measure", value="value", all_indicators) %>%
  ggplot(aes(x = date, y = value)) + geom_bar(stat = "identity") +
  facet_wrap(~measure)

summary(df)

# indicator <- "HD.HCI.OVRL"
# df %>% select(country, date, indicator) %>% filter(!is.na(indicator)) %>% select(country) %>% unique %>% print(n = Inf)

wb_search("SP.POP.TOTL") %>% View()

```

## Part 1

Using words, describe the visualization you are going to make using which variables/characteristics in your data:

*Example*: For my first figure, I am going to create a scatterplot that plots vehicle weight on the x axis and miles per gallon the y axis. I will create a two column tibble with these data.

In the code chunk below, show your work filtering the data and create the subset of data you will display graphically.

```{r data_1}
fig_dat1<-dat %>% select(wt,mpg)
####make sure you call the data so it will display in your report
fig_dat1
```

## Part 2

Using words, describe the *second* visualization you are going to make using which variables/characteristics in your data:

*Example*: For my second figure, I am going to create a boxplot that includes three boxplots for miles per gallon, horsepower, and weight.

In the code chunk below, show your work filtering the data and create the subset of data you will display graphically.

```{r data_2}
fig_dat2<-dat %>% select(mpg,hp,wt)
####make sure you call the data so it will display in your report
fig_dat2
```


## Part 3

Using words, describe the *third* visualization you are going to make using which variables/characteristics in your data:

*Example*: For the third figure, I will display a density plot of the quarter mile time for six cylinder cars.

```{r data_3}
fig_dat3<-dat %>% filter(cyl==6) %>% select(qsec) 
####make sure you call the data so it will display in your report
fig_dat3
```

